<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>The Virtual Reality Passport search </title>
  <meta name="description" content="Aframe-Material">
  <script type="text/javascript" src="//maps.google.com/maps/api/js?sensor=false"></script>

  <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
  <script src="https://rawgit.com/mayognaise/aframe-mouse-cursor-component/master/dist/aframe-mouse-cursor-component.min.js"></script>
  <script src="https://unpkg.com/aframe-animation-component@3.2.5/dist/aframe-animation-component.min.js"></script>
  <script src="https://unpkg.com/aframe-event-set-component@3.0.3/dist/aframe-event-set-component.min.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.4/lodash.min.js"
          integrity="sha256-IyWBFJYclFY8Pn32bwWdSHmV4B9M5mby5bhPHEmeY8w=" crossorigin="anonymous"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

  <script src="js/vpp-app.js"></script>
  <script type="text/javascript">
	  AFRAME.ASSETS_PATH = "./assets";
  </script>
  <style>
    #map {
      width: 300px;
      height: 200px;
      z-index: 100;
      -webkit-box-shadow: 0px 0px 3px 3px rgba(73, 73, 73, .2);
      -moz-box-shadow: 0px 0px 3px 3px rgba(73, 73, 73, .2);
      -o-box-shadow: 0px 0px 3px 3px rgba(73, 73, 73, .2);
      box-shadow: 0px 0px 3px 3px rgba(73, 73, 73, .2);
    }

    .block {
      position: relative;
      line-height: 2.5em;
      padding: 0;
      margin: 5px 0 0 0;
      display: block;
    }
  </style>
</head>
<body>
<!--stats-->
<a-scene router="navController: #nav-attach" keyboard-shortcuts="enterVR: false" >
 <!-- <a-assets timeout="100">
    <video id="martian" src="https://cdn.rawgit.com/wvazquez216/VRP_test_video/a52ed564/The_Martian_VR_Experience.mp4"></video>
    <video id="Rogue_One" src="https://cdn.rawgit.com/wvazquez216/VRP_test_video/a52ed564/Rogue_One_VR_Experience.mp4"></video>
    <video id="JUST_CAUSE" src="https://cdn.rawgit.com/wvazquez216/VRP_test_video/a52ed564/JUST_CAUSE_3_Trailer.mp4"></video>
    <video id="DuckTales" src="https://cdn.rawgit.com/wvazquez216/VRP_test_video/a52ed564/DuckTales.mp4"></video>
    <video id="Avengers" src="https://cdn.rawgit.com/wvazquez216/VRP_test_video/a52ed564/Battle_for_the_Avengers_Tower.mp4"></video>
  </a-assets>-->

  <a-entity laser-controls="hand: right"></a-entity>

  <a-entity id="camera" name="camera" camera="" look-controls="" mouse-cursor>

    <a-cursor id="cursor" cursor="fuseTimeout: 1500" scale="1.3 1.3 1.3"
              animation__click="property: scale; startEvents: click; from: 0.1 0.1 0.1; to: 1.3 1.3 1.3; dur: 150"
              animation__fusing="property: fusing; startEvents: fusing; from: 1 1 1; to: 0.1 0.1 0.1; dur: 1500"
              event-set__1="_event: mouseenter; color: #549ad5"
              event-set__2="_event: mouseleave; color: #ededed"
              raycaster="far: 20; objects: .clickable">
    </a-cursor>

  </a-entity>
<!--
  animation__fusingColor="property: material.color; startEvents: mouseenter; pauseEvents: mouseleave; restartEvents: mouseenter; from: #549ad5; to: #D5201F; delay: 1100; dur: 400"
-->

  <a-entity manhole></a-entity>
  <a-router></a-router>


  <!-- bottom nav row -->
  <a-entity id="nav-attach" nav="initialSelected: profile"></a-entity>


  <a-sky set-image src="assets/images/loaction_5.jpg" visible="true" rotation="0 -90 0"></a-sky>


  <!-- END ENVIRONEMENT -->
</a-scene>


<script>
	window.addEventListener('popstate', function (e) {
		//var character = e.state;
		console.log('state: ', e.state);
		var contentToDisplay = document.querySelector('a-image[data-page=' + e.state + ']');
		if (contentToDisplay) {
			contentToDisplay.emit('click');
			//	document.setAttribute('#549ad5')
		}
	});
	console.log(AFRAME);
	var sne = document.querySelector('a-scene');
	sne.addEventListener('displayNewScene', function () {
		console.log('displayNewScene event emitted');
	});
	sne.addEventListener('removal', function () {
		console.log('removal event emitted');
	})
</script>


</body>
</html>
